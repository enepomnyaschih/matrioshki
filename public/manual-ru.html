<html>
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
        
        <title>Инструкция - Матрешки против Андроидов</title>
    </head>
    <body>
        <a href="/?hl=ru">Назад</a><br />
        <a href="/?hl=en" onclick="document.cookie = 'kmmanual=0'">English</a>
        
        <h1>Матрешки против Андроидов</h1>
        <h2>История</h2>
        <p>Андроиды вышли из под контроля и захватили все города <a href="http://www.google.com/events/developerday/2011/">Google Developer Day 2011</a>, кроме Москвы. И только <a href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%82%D1%80%D1%91%D1%88%D0%BA%D0%B0">Русские Матрешки</a> могут исправить андроидов и спасти Праздник!</p>
        <h2>Цель игры</h2>
        <ol>
            <li>Освободите все города Google Developer Day</li>
            <li>Не позвольте андроидам захватить все города Google Developer Day</li>
        </ol>
        <h2>Правила игры</h2>
        <ol>
            <li>В игре участвуют 2 игрока: человек против компьютера</li>
            <li>Человек командует матрешками</li>
            <li>Компьютер управляет андроидами</li>
            <li>Карта разбита на 25 секторов</li>
            <li>Изначально, все сектора распределены между игроками:
                <ol>
                    <li>Сектор с Москвой защищается матрешками</li>
                    <li>Остальные сектора с городами Google Developer Day находятся во власти андроидов</li>
                    <li>Все остальные сектора случайно распределены между игроками в соотношении 3:1 (андроиды:матрешки)</li>
                </ol>
            </li>
            <li>В каждом секторе есть фигура: матрешка или андроид</li>
            <li>Фигуры бывают разных размеров: всего 8 уровней</li>
            <li>Человеку достается первый ход</li>
            <li>Во время своего хода игрок может выполнить произвольное количество нападений</li>
            <li>Чтобы напасть, игроку нужно кликнуть по исходному сектору, а затем кликнуть по целевому сектору:
                <ol>
                    <li>Исходный и целевой сектора должны находиться рядом</li>
                    <li>Исходный сектор должен быть под контролем игрока</li>
                    <li>Целевой сектор должен быть под контролем противника</li>
                    <li>Фигура в исходном секторе должна быть хотя бы второго уровня</li>
                </ol>
            </li>
            <li>Битва происходит автоматически в следующем порядке:
                <ol>
                    <li>Игроки бросают кости</li>
                    <li>Количество костей равно уровню фигуры игрока</li>
                    <li>Очки на костях каждого игрока складываются</li>
                    <li>Если у нападающего игрока сумма очков больше, то он побеждает в битве:
                        <ol>
                            <li>Нападающий игрок захватывает сектор</li>
                            <li>Фигура нападающего игрока теряет один уровень и перемещается в захваченный сектор</li>
                            <li>В исходном секторе появляется фигура первого уровня</li>
                        </ol>
                    <li>В противном случае игрок отступает:
                        <ol>
                            <li>Фигура в исходном секторе сбрасывается на первый уровень</li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>Если игрок больше не хочет нападать, нужно нажать кнопку "Конец хода":
                <ol>
                    <li>Текущий игрок получает подкрепление:
                        <ol>
                            <li>Вычисляется наибольшее количество связных секторов у игрока</li>
                            <li>Произвольные фигуры игрока растут на такое же количество уровней</li>
                            <li>Ни одна фигура не растет выше восьмого уровня</li>
                        </ol>
                    </li>
                    <li>Другой игрок начинает свой ход</li>
                </ol>
            </li>
            <li>Как только игрок захватывает все сектора с городами Google Developer Day, он выигрывает</li>
        </ol>
        
        <h2>Как разрабатывалась игра</h2>
        <p>Игра разработана для участия в конкурсе Google Open Call for Google Developer Day 2011 Challenge - Doodle the Dymaxion Map.<p>
        <p>(продолжение следует...)</p>
        
        <h2>Заметки по реализации</h2>
        <p>Приложение представляет собой набор JS-классов, манипулирующих SVG-содержимым страницы. Исходный код открыт для доступа на <a href="https://github.com/enepomnyaschih/matrioshki">https://github.com/enepomnyaschih/matrioshki</a>. В качестве подспорья были выбраны следующие фреймворки:</p>
        <ol>
            <li><a href="http://jquery.com">jQuery</a> для простейших манипуляций с DOM-содержимым</li>
            <li><a href="http://raphaeljs.com">Raphaël</a> для рисования графических примитивов</li>
            <li><a href="https://github.com/enepomnyaschih/utils/tree/master/js/jwidget">jWidget</a> - авторская библиотека, предоставляющая богатейший набор JS-утилит</li>
        </ol>
        <p>Основная проблема, с которой столкнулись разработчики - это создание SVG-элементов на основе существующих SVG-ресурсов из JS-кода. Разработчики были вынуждены конвертировать все SVG-ресурсы из XML-формата в множество Raphaël-вызовов.</p>
        
        <h2>В разработке принимали участие:</h2>
        <ol>
            <li>Поздняков Юрий - JS-разработчик, владелец проекта, дизайнер</li>
            <li>Непомнящих Егор - JS-разработчик, автор jWidget, автор идеи</li>
            <li>Ерощенко Ксения - художник</li>
            <li>Коровянский Алексей - бета-тестировщик, глава Омского GTUG</li>
            <li>Моисеева Ирина - бета-тестировщик</li>
            <li>Фирсанов Константин - бета-тестировщик</li>
            <li>Anthony De Moss - ассистент по переводу</li>
        </ol>
    </body>
</html>
